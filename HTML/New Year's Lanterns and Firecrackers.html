/* New Year's Lanterns and Firecrackers */ 
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Êñ∞Âπ¥ÁÅØÁ¨º</title>
    <style>
        /* ÁÅØÁ¨ºÂü∫Á°ÄÊ†∑Âºè */
        .deng-box1, .deng-box2, .deng-box3, .deng-box4 {
            position: fixed;
            top: -10px;
            z-index: 999;
        }
        
        .deng-box1 { 
            left: 2%; 
            z-index: 1000;
        }
        .deng-box2 { 
            left: 5%;
            z-index: 999;
        }
        .deng-box3 { 
            right: 5%;
            left: auto;
            z-index: 1000;
        }
        .deng-box4 { 
            right: 2%;
            left: auto;
            z-index: 999;
        }
        
        .deng {
            position: relative;
            width: 120px;
            height: 90px;
            margin: 20px;
            background: #d8000f;
            background: rgba(216, 0, 15, 0.8);
            border-radius: 50% 50%;
            transform-origin: 50% -100px;
        }

        /* ‰∏∫ÊØè‰∏™ÁÅØÁ¨ºÊ∑ªÂä†‰∏çÂêåÁöÑÈò¥ÂΩ±ÊïàÊûú */
        .deng-box1 .deng { 
            animation: swing 3s infinite ease-in-out;
            box-shadow: -5px 5px 50px 4px rgba(250, 108, 0, 1);
        }
        .deng-box2 .deng { 
            animation: swing 5s infinite ease-in-out;
            box-shadow: -5px 5px 30px 4px rgba(252, 144, 61, 1);
        }
        .deng-box3 .deng { 
            animation: swing 3s infinite ease-in-out;
            box-shadow: -5px 5px 50px 4px rgba(250, 108, 0, 1);
        }
        .deng-box4 .deng { 
            animation: swing 5s infinite ease-in-out;
            box-shadow: -5px 5px 30px 4px rgba(252, 144, 61, 1);
        }
        
        .deng-a {
            width: 100px;
            height: 90px;
            background: rgba(216, 0, 15, 0.1);
            margin: 12px 8px 8px 8px;
            border-radius: 50% 50%;
            border: 2px solid #dc8f03;
        }
        
        .deng-b {
            width: 45px;
            height: 90px;
            background: rgba(216, 0, 15, 0.1);
            margin: -4px 8px 8px 26px;
            border-radius: 50% 50%;
            border: 2px solid #dc8f03;
        }
        
        /* Ê∑ªÂä†ÁÅØÁ¨ºÈ°∂ÈÉ®ÂíåÂ∫ïÈÉ®ÁöÑË£ÖÈ•∞ */
        .deng:before {
            position: absolute;
            top: -7px;
            left: 29px;
            height: 12px;
            width: 60px;
            content: " ";
            display: block;
            z-index: 999;
            border-radius: 5px 5px 0 0;
            border: solid 1px #dc8f03;
            background: #ffa500;
            background: linear-gradient(to right, #dc8f03, #ffa500, #dc8f03, #ffa500, #dc8f03);
        }
        
        .deng:after {
            position: absolute;
            bottom: -7px;
            left: 10px;
            height: 12px;
            width: 60px;
            content: " ";
            display: block;
            margin-left: 20px;
            border-radius: 0 0 5px 5px;
            border: solid 1px #dc8f03;
            background: #ffa500;
            background: linear-gradient(to right, #dc8f03, #ffa500, #dc8f03, #ffa500, #dc8f03);
        }
        
        .xian {
            position: absolute;
            top: -10px;
            left: 60px;
            width: 2px;
            height: 10px;
            background: #dc8f03;
        }
        
        .shui-a {
            position: relative;
            width: 5px;
            height: 20px;
            margin: -5px 0 0 59px;
            animation: swing 4s infinite ease-in-out;
            transform-origin: 50% -45px;
            background: #ffa500;
            border-radius: 0 0 5px 5px;
        }
        
        .shui-b {
            position: absolute;
            top: 14px;
            left: -2px;
            width: 10px;
            height: 10px;
            background: #dc8f03;
            border-radius: 50%;
        }
        
        .shui-c {
            position: absolute;
            top: 18px;
            left: -2px;
            width: 10px;
            height: 35px;
            background: #ffa500;
            border-radius: 0 0 0 5px;
        }
        
        .deng-t {
            font-family: ÂçéÊñáË°åÊ•∑,Arial,Lucida Grande,Tahoma,sans-serif;
            font-size: 3.2rem;
            color: #dc8f03;
            font-weight: bold;
            line-height: 85px;
            text-align: center;
        }
        
        /* Èû≠ÁÇÆË∑üÈöèÊ†∑Âºè */
        #firecracker-follower {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            font-size: 40px;
            user-select: none;
            left: 0;
            top: 0;
            transform: translate(-50%, -50%);
            transition: all 0.1s ease;
            opacity: 0.8;
            display: none;
        }
        
        @keyframes swing {
            0% { transform: rotate(-10deg) }
            50% { transform: rotate(10deg) }
            100% { transform: rotate(-10deg) }
        }
    </style>
</head>
<body>
    <!-- ÁÅØÁ¨º1 - Êñ∞ -->
    <div class="deng-box1">
        <div class="deng">
            <div class="xian"></div>
            <div class="deng-a">
                <div class="deng-b"><div class="deng-t">Êñ∞</div></div>
            </div>
            <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>
        </div>
    </div>
     
    <!-- ÁÅØÁ¨º2 - Âπ¥ -->
    <div class="deng-box2">
        <div class="deng">
            <div class="xian"></div>
            <div class="deng-a">
                <div class="deng-b"><div class="deng-t">Âπ¥</div></div>
            </div>
            <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>
        </div>
    </div>

    <!-- ÁÅØÁ¨º3 - Âø´ -->
    <div class="deng-box3">
        <div class="deng">
            <div class="xian"></div>
            <div class="deng-a">
                <div class="deng-b"><div class="deng-t">Âø´</div></div>
            </div>
            <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>
        </div>
    </div>

    <!-- ÁÅØÁ¨º4 - ‰πê -->
    <div class="deng-box4">
        <div class="deng">
            <div class="xian"></div>
            <div class="deng-a">
                <div class="deng-b"><div class="deng-t">‰πê</div></div>
            </div>
            <div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div>
        </div>
    </div>

    <!-- Èû≠ÁÇÆË∑üÈöèÂÖÉÁ¥† -->
    <div id="firecracker-follower">üß®</div>

    <script>
        const firecracker = document.getElementById('firecracker-follower');
        let isSingleTouch = false;
        
        const updatePosition = (x, y) => {
            firecracker.style.left = `${x}px`;
            firecracker.style.top = `${y}px`;
            firecracker.style.display = 'block';
        };

        const throttle = (func, limit) => {
            let lastFunc;
            let lastRan;
            return function() {
                const context = this;
                const args = arguments;
                if (!lastRan) {
                    func.apply(context, args);
                    lastRan = Date.now();
                } else {
                    clearTimeout(lastFunc);
                    lastFunc = setTimeout(function() {
                        if ((Date.now() - lastRan) >= limit) {
                            func.apply(context, args);
                            lastRan = Date.now();
                        }
                    }, limit - (Date.now() - lastRan));
                }
            }
        };

        const handleTouchMove = throttle((e) => {
            if (isSingleTouch && e.touches.length === 1) {
                const touch = e.touches[0];
                updatePosition(touch.clientX, touch.clientY);
            }
        }, 50);

        document.addEventListener('touchstart', (e) => {
            if (e.target.tagName !== 'INPUT' && 
                e.target.tagName !== 'TEXTAREA' && 
                e.target.tagName !== 'SELECT') {
                
                if (e.touches.length === 1) {
                    isSingleTouch = true;
                    updatePosition(e.touches[0].clientX, e.touches[0].clientY);
                } else {
                    isSingleTouch = false;
                    firecracker.style.display = 'none';
                }
            }
        }, { passive: true });

        document.addEventListener('touchmove', (e) => {
            if (isSingleTouch && 
                e.target.tagName !== 'INPUT' && 
                e.target.tagName !== 'TEXTAREA' && 
                e.target.tagName !== 'SELECT') {
                
                handleTouchMove(e);
            }
        }, { passive: true });

        document.addEventListener('touchend', () => {
            isSingleTouch = false;
            firecracker.style.display = 'none';
        }, { passive: true });

        document.addEventListener('mousemove', (e) => {
            updatePosition(e.clientX, e.clientY);
        }, { passive: true });

        document.addEventListener('mouseleave', () => {
            firecracker.style.display = 'none';
        });
    </script>
</body>
</html>
